webpackJsonp([11],{P63K:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.options.map(function(e,t){return r.default.createElement("option",{key:t,value:e.value},e.text)});return r.default.createElement("div",{className:"select"},r.default.createElement("select",{onChange:e.handleOnChange,value:e.value,disabled:e.disabled,name:e.name,style:e.style,defaultValue:e.defaultValue},e.value?null:r.default.createElement("option",{value:"",disabled:!0,selected:!0},e.hintText||""),t))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("U7vG")),l=n(a("KSGD"));s.propTypes={options:l.default.array,handleOnChange:l.default.func,value:l.default.oneOfType([l.default.string,l.default.number,l.default.bool]),defaultValue:l.default.oneOfType([l.default.string,l.default.number]),name:l.default.string,hintText:l.default.string,disabled:l.default.bool,style:l.default.object};var u=s;t.default=u,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"Select","/mnt/c/Users/lfblo/Shift_Code/cryptos/sites/dev-2.shiftcrypto.com/admin-3/src/components/Select/index.js"),__REACT_HOT_LOADER__.register(u,"default","/mnt/c/Users/lfblo/Shift_Code/cryptos/sites/dev-2.shiftcrypto.com/admin-3/src/components/Select/index.js"))},SaGJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){return r.default.createElement("img",{src:e.src,className:e.class,alt:e.alt,width:e.width})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("U7vG")),l=n(a("KSGD"));s.propTypes={src:l.default.string,class:l.default.string,alt:l.default.string,width:l.default.number};var u=s;t.default=u,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"Img","/mnt/c/Users/lfblo/Shift_Code/cryptos/sites/dev-2.shiftcrypto.com/admin-3/src/components/Img/index.js"),__REACT_HOT_LOADER__.register(u,"default","/mnt/c/Users/lfblo/Shift_Code/cryptos/sites/dev-2.shiftcrypto.com/admin-3/src/components/Img/index.js"))},"bPD/":function(e,t,a){e.exports=a.p+"company-logo.svg"},mt4I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(a("bOdI")),r=n(a("Zx67")),l=n(a("Zrlr")),u=n(a("wxAW")),o=n(a("zwoO")),i=n(a("Pf15")),d=n(a("U7vG")),c=n(a("KSGD")),_=n(a("tpu8")),f=a("RH2O"),h=a("T452"),p=a("12dL"),m=n(a("3oDM")),g=n(a("qX37")),v=n(a("SaGJ")),O=n(a("P63K")),E=n(a("bPD/")),C=function(e){function t(){(0,l.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.handleOnChange=function(){return e.__handleOnChange__REACT_HOT_LOADER__.apply(e,arguments)},e.handleChangeServer=function(){return e.__handleChangeServer__REACT_HOT_LOADER__.apply(e,arguments)},e.reqTwoFactorAuth=function(){return e.__reqTwoFactorAuth__REACT_HOT_LOADER__.apply(e,arguments)},e.handleSubmit=function(){return e.__handleSubmit__REACT_HOT_LOADER__.apply(e,arguments)},e.showErrorSnackBar=function(){return e.__showErrorSnackBar__REACT_HOT_LOADER__.apply(e,arguments)},e.handleRequestClose=function(){return e.__handleRequestClose__REACT_HOT_LOADER__.apply(e,arguments)},e.state={username:"",password:"",token:null,requires2FA:!1,logging:!1,server:window.appConfig.OMSUri,showCustomServerInput:!1,customServer:"",authType:"",showSnackbar:!1,snackbarMessage:""},e}return(0,i.default)(t,e),(0,u.default)(t,[{key:"__handleRequestClose__REACT_HOT_LOADER__",value:function(){this.setState({showSnackbar:!1,snackbarMessage:""})}},{key:"__showErrorSnackBar__REACT_HOT_LOADER__",value:function(e){return this.setState({showSnackbar:!0,snackbarMessage:e})}},{key:"__handleSubmit__REACT_HOT_LOADER__",value:function(e){function t(e){e?location.state&&location.state.nextPathname?a.context.router.replace(location.state.nextPathname):a.context.router.replace("/"):a.setState({logging:!1,showSnackbar:!0,snackbarMessage:"Login failed. Check your credentials and try again."})}var a=this,n=this.state,s=n.username,r=n.password,l=n.token,u=n.customServer,o=n.server,i={username:s,password:r,token:l};if(e.preventDefault(),o!==window.appConfig.OMSUri)if(this.state.showCustomServerInput){if(!~u.indexOf("wss://")&&!~u.indexOf("ws://"))return!1;(0,h.initWebsocket)(u),window.appConfig.OMSUri=u}else(0,h.initWebsocket)(o),window.appConfig.OMSUri=o;return this.setState({logging:!0}),this.state.authType&&"UNO"!==this.state.authType?this.props.authenticate2Fa(l,t):this.props.authenticateUser(i,this.reqTwoFactorAuth,t)}},{key:"__reqTwoFactorAuth__REACT_HOT_LOADER__",value:function(e){this.setState({requires2FA:!0,authType:e,logging:!1})}},{key:"__handleChangeServer__REACT_HOT_LOADER__",value:function(e){var t=e.target.value;return this.setState({server:t,showCustomServerInput:"custom"===t})}},{key:"__handleOnChange__REACT_HOT_LOADER__",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState((0,s.default)({},n,a))}},{key:"render",value:function(){var e=window.localStorage.getItem("adminServer"),t=window.appConfig.serversList.map(function(e){return{value:e,text:e}}).concat([{value:"custom",text:"Custom server"}]);return e&&(~_.default.findIndex(_.default.propEq("value",e))(t)||t.unshift({value:e,text:e})),d.default.createElement("div",{className:"wrapper login"},d.default.createElement("div",{className:"form-container"},d.default.createElement(v.default,{src:E.default,class:"logo",alt:"Coti",width:250}),d.default.createElement("p",{className:"text"},"Log in to access Order Management System"),d.default.createElement("form",{onSubmit:this.handleSubmit},window.appConfig.useServerSelect&&!this.state.requires2FA&&d.default.createElement(O.default,{options:t,value:this.state.server,handleOnChange:this.handleChangeServer}),this.state.showCustomServerInput&&d.default.createElement("input",{type:"text",name:"customServer",placeholder:"Enter server address...",className:"input",onChange:this.handleOnChange}),d.default.createElement("input",{type:"text",name:"username",placeholder:"User Name",className:"input",value:this.state.username,onChange:this.handleOnChange}),d.default.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"input",value:this.state.password,onChange:this.handleOnChange}),this.state.requires2FA&&d.default.createElement("input",{type:"text",name:"token",placeholder:"Token",className:"input",onChange:this.handleOnChange}),this.state.logging?d.default.createElement(m.default,{label:"Logging in...",className:"button inactive",disabled:!0}):d.default.createElement(m.default,{label:"Log in",className:"button primary",type:"submit"}))),d.default.createElement(g.default,{open:this.state.showSnackbar,message:this.state.snackbarMessage,autoHideDuration:4e3,onRequestClose:this.handleRequestClose}))}}]),t}(d.default.Component);C.propTypes={authenticateUser:c.default.func,authenticate2Fa:c.default.func},C.contextTypes={router:c.default.object};var T=(0,f.connect)(null,{authenticateUser:p.authenticateUser,authenticate2Fa:p.authenticate2Fa})(C);t.default=T,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(C,"LoginForm","/mnt/c/Users/lfblo/Shift_Code/cryptos/sites/dev-2.shiftcrypto.com/admin-3/src/containers/Login/index.js"),__REACT_HOT_LOADER__.register(T,"default","/mnt/c/Users/lfblo/Shift_Code/cryptos/sites/dev-2.shiftcrypto.com/admin-3/src/containers/Login/index.js"))}});
//# sourceMappingURL=11.0d68f93a0bfabc36494d.js.map